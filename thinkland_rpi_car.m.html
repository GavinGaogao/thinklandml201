<!doctype html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />

    <title>thinkland_rpi_car API documentation</title>
    <meta name="description" content="" />

  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300' rel='stylesheet' type='text/css'>
  
  <style type="text/css">
  
* {
  box-sizing: border-box;
}
/*! normalize.css v1.1.1 | MIT License | git.io/normalize */

/* ==========================================================================
   HTML5 display definitions
   ========================================================================== */

/**
 * Correct `block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
nav,
section,
summary {
    display: block;
}

/**
 * Correct `inline-block` display not defined in IE 6/7/8/9 and Firefox 3.
 */

audio,
canvas,
video {
    display: inline-block;
    *display: inline;
    *zoom: 1;
}

/**
 * Prevent modern browsers from displaying `audio` without controls.
 * Remove excess height in iOS 5 devices.
 */

audio:not([controls]) {
    display: none;
    height: 0;
}

/**
 * Address styling not present in IE 7/8/9, Firefox 3, and Safari 4.
 * Known issue: no IE 6 support.
 */

[hidden] {
    display: none;
}

/* ==========================================================================
   Base
   ========================================================================== */

/**
 * 1. Prevent system color scheme's background color being used in Firefox, IE,
 *    and Opera.
 * 2. Prevent system color scheme's text color being used in Firefox, IE, and
 *    Opera.
 * 3. Correct text resizing oddly in IE 6/7 when body `font-size` is set using
 *    `em` units.
 * 4. Prevent iOS text size adjust after orientation change, without disabling
 *    user zoom.
 */

html {
    background: #fff; /* 1 */
    color: #000; /* 2 */
    font-size: 100%; /* 3 */
    -webkit-text-size-adjust: 100%; /* 4 */
    -ms-text-size-adjust: 100%; /* 4 */
}

/**
 * Address `font-family` inconsistency between `textarea` and other form
 * elements.
 */

html,
button,
input,
select,
textarea {
    font-family: sans-serif;
}

/**
 * Address margins handled incorrectly in IE 6/7.
 */

body {
    margin: 0;
}

/* ==========================================================================
   Links
   ========================================================================== */

/**
 * Address `outline` inconsistency between Chrome and other browsers.
 */

a:focus {
    outline: thin dotted;
}

/**
 * Improve readability when focused and also mouse hovered in all browsers.
 */

a:active,
a:hover {
    outline: 0;
}

/* ==========================================================================
   Typography
   ========================================================================== */

/**
 * Address font sizes and margins set differently in IE 6/7.
 * Address font sizes within `section` and `article` in Firefox 4+, Safari 5,
 * and Chrome.
 */

h1 {
    font-size: 2em;
    margin: 0.67em 0;
}

h2 {
    font-size: 1.5em;
    margin: 0.83em 0;
}

h3 {
    font-size: 1.17em;
    margin: 1em 0;
}

h4 {
    font-size: 1em;
    margin: 1.33em 0;
}

h5 {
    font-size: 0.83em;
    margin: 1.67em 0;
}

h6 {
    font-size: 0.67em;
    margin: 2.33em 0;
}

/**
 * Address styling not present in IE 7/8/9, Safari 5, and Chrome.
 */

abbr[title] {
    border-bottom: 1px dotted;
}

/**
 * Address style set to `bolder` in Firefox 3+, Safari 4/5, and Chrome.
 */

b,
strong {
    font-weight: bold;
}

blockquote {
    margin: 1em 40px;
}

/**
 * Address styling not present in Safari 5 and Chrome.
 */

dfn {
    font-style: italic;
}

/**
 * Address differences between Firefox and other browsers.
 * Known issue: no IE 6/7 normalization.
 */

hr {
    -moz-box-sizing: content-box;
    box-sizing: content-box;
    height: 0;
}

/**
 * Address styling not present in IE 6/7/8/9.
 */

mark {
    background: #ff0;
    color: #000;
}

/**
 * Address margins set differently in IE 6/7.
 */

p,
pre {
    margin: 1em 0;
}

/**
 * Correct font family set oddly in IE 6, Safari 4/5, and Chrome.
 */

code,
kbd,
pre,
samp {
    font-family: monospace, serif;
    _font-family: 'courier new', monospace;
    font-size: 1em;
}

/**
 * Improve readability of pre-formatted text in all browsers.
 */

pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
}

/**
 * Address CSS quotes not supported in IE 6/7.
 */

q {
    quotes: none;
}

/**
 * Address `quotes` property not supported in Safari 4.
 */

q:before,
q:after {
    content: '';
    content: none;
}

/**
 * Address inconsistent and variable font size in all browsers.
 */

small {
    font-size: 80%;
}

/**
 * Prevent `sub` and `sup` affecting `line-height` in all browsers.
 */

sub,
sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
}

sup {
    top: -0.5em;
}

sub {
    bottom: -0.25em;
}

/* ==========================================================================
   Lists
   ========================================================================== */

/**
 * Address margins set differently in IE 6/7.
 */

dl,
menu,
ol,
ul {
    margin: 1em 0;
}

dd {
    margin: 0 0 0 40px;
}

/**
 * Address paddings set differently in IE 6/7.
 */

menu,
ol,
ul {
    padding: 0 0 0 40px;
}

/**
 * Correct list images handled incorrectly in IE 7.
 */

nav ul,
nav ol {
    list-style: none;
    list-style-image: none;
}

/* ==========================================================================
   Embedded content
   ========================================================================== */

/**
 * 1. Remove border when inside `a` element in IE 6/7/8/9 and Firefox 3.
 * 2. Improve image quality when scaled in IE 7.
 */

img {
    border: 0; /* 1 */
    -ms-interpolation-mode: bicubic; /* 2 */
}

/**
 * Correct overflow displayed oddly in IE 9.
 */

svg:not(:root) {
    overflow: hidden;
}

/* ==========================================================================
   Figures
   ========================================================================== */

/**
 * Address margin not present in IE 6/7/8/9, Safari 5, and Opera 11.
 */

figure {
    margin: 0;
}

/* ==========================================================================
   Forms
   ========================================================================== */

/**
 * Correct margin displayed oddly in IE 6/7.
 */

form {
    margin: 0;
}

/**
 * Define consistent border, margin, and padding.
 */

fieldset {
    border: 1px solid #c0c0c0;
    margin: 0 2px;
    padding: 0.35em 0.625em 0.75em;
}

/**
 * 1. Correct color not being inherited in IE 6/7/8/9.
 * 2. Correct text not wrapping in Firefox 3.
 * 3. Correct alignment displayed oddly in IE 6/7.
 */

legend {
    border: 0; /* 1 */
    padding: 0;
    white-space: normal; /* 2 */
    *margin-left: -7px; /* 3 */
}

/**
 * 1. Correct font size not being inherited in all browsers.
 * 2. Address margins set differently in IE 6/7, Firefox 3+, Safari 5,
 *    and Chrome.
 * 3. Improve appearance and consistency in all browsers.
 */

button,
input,
select,
textarea {
    font-size: 100%; /* 1 */
    margin: 0; /* 2 */
    vertical-align: baseline; /* 3 */
    *vertical-align: middle; /* 3 */
}

/**
 * Address Firefox 3+ setting `line-height` on `input` using `!important` in
 * the UA stylesheet.
 */

button,
input {
    line-height: normal;
}

/**
 * Address inconsistent `text-transform` inheritance for `button` and `select`.
 * All other form control elements do not inherit `text-transform` values.
 * Correct `button` style inheritance in Chrome, Safari 5+, and IE 6+.
 * Correct `select` style inheritance in Firefox 4+ and Opera.
 */

button,
select {
    text-transform: none;
}

/**
 * 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio`
 *    and `video` controls.
 * 2. Correct inability to style clickable `input` types in iOS.
 * 3. Improve usability and consistency of cursor style between image-type
 *    `input` and others.
 * 4. Remove inner spacing in IE 7 without affecting normal text inputs.
 *    Known issue: inner spacing remains in IE 6.
 */

button,
html input[type="button"], /* 1 */
input[type="reset"],
input[type="submit"] {
    -webkit-appearance: button; /* 2 */
    cursor: pointer; /* 3 */
    *overflow: visible;  /* 4 */
}

/**
 * Re-set default cursor for disabled elements.
 */

button[disabled],
html input[disabled] {
    cursor: default;
}

/**
 * 1. Address box sizing set to content-box in IE 8/9.
 * 2. Remove excess padding in IE 8/9.
 * 3. Remove excess padding in IE 7.
 *    Known issue: excess padding remains in IE 6.
 */

input[type="checkbox"],
input[type="radio"] {
    box-sizing: border-box; /* 1 */
    padding: 0; /* 2 */
    *height: 13px; /* 3 */
    *width: 13px; /* 3 */
}

/**
 * 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome.
 * 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome
 *    (include `-moz` to future-proof).
 */

input[type="search"] {
    -webkit-appearance: textfield; /* 1 */
    -moz-box-sizing: content-box;
    -webkit-box-sizing: content-box; /* 2 */
    box-sizing: content-box;
}

/**
 * Remove inner padding and search cancel button in Safari 5 and Chrome
 * on OS X.
 */

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
    -webkit-appearance: none;
}

/**
 * Remove inner padding and border in Firefox 3+.
 */

button::-moz-focus-inner,
input::-moz-focus-inner {
    border: 0;
    padding: 0;
}

/**
 * 1. Remove default vertical scrollbar in IE 6/7/8/9.
 * 2. Improve readability and alignment in all browsers.
 */

textarea {
    overflow: auto; /* 1 */
    vertical-align: top; /* 2 */
}

/* ==========================================================================
   Tables
   ========================================================================== */

/**
 * Remove most spacing between table cells.
 */

table {
    border-collapse: collapse;
    border-spacing: 0;
}

  </style>

  <style type="text/css">
  
  html, body {
    margin: 0;
    padding: 0;
    min-height: 100%;
  }
  body {
    background: #fff;
    font-family: "Source Sans Pro", "Helvetica Neueue", Helvetica, sans;
    font-weight: 300;
    font-size: 16px;
    line-height: 1.6em;
  }
  #content {
    width: 70%;
    max-width: 850px;
    float: left;
    padding: 30px 60px;
    border-left: 1px solid #ddd;
  }
  #sidebar {
    width: 25%;
    float: left;
    padding: 30px;
    overflow: hidden;
  }
  #nav {
    font-size: 130%;
    margin: 0 0 15px 0;
  }

  #top {
    display: block;
    position: fixed;
    bottom: 5px;
    left: 5px;
    font-size: .85em;
    text-transform: uppercase;
  }

  #footer {
    font-size: .75em;
    padding: 5px 30px;
    border-top: 1px solid #ddd;
    text-align: right;
  }
    #footer p {
      margin: 0 0 0 30px;
      display: inline-block;
    }

  h1, h2, h3, h4, h5 {
    font-weight: 300;
  }
  h1 {
    font-size: 2.5em;
    line-height: 1.1em;
    margin: 0 0 .50em 0;
  }

  h2 {
    font-size: 1.75em;
    margin: 1em 0 .50em 0;
  }

  h3 {
    margin: 25px 0 10px 0;
  }

  h4 {
    margin: 0;
    font-size: 105%;
  }

  a {
    color: #058;
    text-decoration: none;
    transition: color .3s ease-in-out;
  }

  a:hover {
    color: #e08524;
    transition: color .3s ease-in-out;
  }

  pre, code, .mono, .name {
    font-family: "Ubuntu Mono", "Cousine", "DejaVu Sans Mono", monospace;
  }

  .title .name {
    font-weight: bold;
  }
  .section-title {
    margin-top: 2em;
  }
  .ident {
    color: #900;
  }

  code {
    background: #f9f9f9;
  } 

  pre {
    background: #fefefe;
    border: 1px solid #ddd;
    box-shadow: 2px 2px 0 #f3f3f3;
    margin: 0 30px;
    padding: 15px 30px;
  }

  .codehilite {
    margin: 0 30px 10px 30px;
  }

    .codehilite pre {
      margin: 0;
    }
    .codehilite .err { background: #ff3300; color: #fff !important; } 

  table#module-list {
    font-size: 110%;
  }

    table#module-list tr td:first-child {
      padding-right: 10px;
      white-space: nowrap;
    }

    table#module-list td {
      vertical-align: top;
      padding-bottom: 8px;
    }

      table#module-list td p {
        margin: 0 0 7px 0;
      }

  .def {
    display: table;
  }

    .def p {
      display: table-cell;
      vertical-align: top;
      text-align: left;
    }

    .def p:first-child {
      white-space: nowrap;
    }

    .def p:last-child {
      width: 100%;
    }


  #index {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }
    ul#index .class_name {
      /* font-size: 110%; */
      font-weight: bold;
    }
    #index ul {
      margin: 0;
    }

  .item {
    margin: 0 0 15px 0;
  }

    .item .class {
      margin: 0 0 25px 30px;
    }

      .item .class ul.class_list {
        margin: 0 0 20px 0;
      }

    .item .name {
      background: #fafafa;
      margin: 0;
      font-weight: bold;
      padding: 5px 10px;
      border-radius: 3px;
      display: inline-block;
      min-width: 40%;
    }
      .item .name:hover {
        background: #f6f6f6;
      }

    .item .empty_desc {
      margin: 0 0 5px 0;
      padding: 0;
    }

    .item .inheritance {
      margin: 3px 0 0 30px;
    }

    .item .inherited {
      color: #666;
    }

    .item .desc {
      padding: 0 8px;
      margin: 0;
    }

      .item .desc p {
        margin: 0 0 10px 0;
      }

    .source_cont {
      margin: 0;
      padding: 0;
    }

    .source_link a {
      background: #ffc300;
      font-weight: 400;
      font-size: .75em;
      text-transform: uppercase;
      color: #fff;
      text-shadow: 1px 1px 0 #f4b700;
      
      padding: 3px 8px;
      border-radius: 2px;
      transition: background .3s ease-in-out;
    }
      .source_link a:hover {
        background: #FF7200;
        text-shadow: none;
        transition: background .3s ease-in-out;
      }

    .source {
      display: none;
      max-height: 600px;
      overflow-y: scroll;
      margin-bottom: 15px;
    }

      .source .codehilite {
        margin: 0;
      }

  .desc h1, .desc h2, .desc h3 {
    font-size: 100% !important;
  }
  .clear {
    clear: both;
  }

  @media all and (max-width: 950px) {
    #sidebar {
      width: 35%;
    }
    #content {
      width: 65%;
    }
  }
  @media all and (max-width: 650px) {
    #top {
      display: none;
    }
    #sidebar {
      float: none;
      width: auto;
    }
    #content {
      float: none;
      width: auto;
      padding: 30px;
    }

    #index ul {
      padding: 0;
      margin-bottom: 15px;
    }
    #index ul li {
      display: inline-block;
      margin-right: 30px;
    }
    #footer {
      text-align: left;
    }
    #footer p {
      display: block;
      margin: inherit;
    }
  }

  /*****************************/

  </style>

  <style type="text/css">
  .codehilite .hll { background-color: #ffffcc }
.codehilite  { background: #f8f8f8; }
.codehilite .c { color: #408080; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #BC7A00 } /* Comment.Preproc */
.codehilite .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #408080; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #408080; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #FF0000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #00A000 } /* Generic.Inserted */
.codehilite .go { color: #888888 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #7D9029 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #999999; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #A0A000 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #BB6688 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */
  </style>

  <style type="text/css">
  
/* ==========================================================================
   EXAMPLE Media Queries for Responsive Design.
   These examples override the primary ('mobile first') styles.
   Modify as content requires.
   ========================================================================== */

@media only screen and (min-width: 35em) {
    /* Style adjustments for viewports that meet the condition */
}

@media print,
       (-o-min-device-pixel-ratio: 5/4),
       (-webkit-min-device-pixel-ratio: 1.25),
       (min-resolution: 120dpi) {
    /* Style adjustments for high resolution devices */
}

/* ==========================================================================
   Print styles.
   Inlined to avoid required HTTP connection: h5bp.com/r
   ========================================================================== */

@media print {
    * {
        background: transparent !important;
        color: #000 !important; /* Black prints faster: h5bp.com/s */
        box-shadow: none !important;
        text-shadow: none !important;
    }

    a,
    a:visited {
        text-decoration: underline;
    }

    a[href]:after {
        content: " (" attr(href) ")";
    }

    abbr[title]:after {
        content: " (" attr(title) ")";
    }

    /*
     * Don't show links for images, or javascript/internal links
     */

    .ir a:after,
    a[href^="javascript:"]:after,
    a[href^="#"]:after {
        content: "";
    }

    pre,
    blockquote {
        border: 1px solid #999;
        page-break-inside: avoid;
    }

    thead {
        display: table-header-group; /* h5bp.com/t */
    }

    tr,
    img {
        page-break-inside: avoid;
    }

    img {
        max-width: 100% !important;
    }

    @page {
        margin: 0.5cm;
    }

    p,
    h2,
    h3 {
        orphans: 3;
        widows: 3;
    }

    h2,
    h3 {
        page-break-after: avoid;
    }
}

  </style>

  <script type="text/javascript">
  function toggle(id, $link) {
    $node = document.getElementById(id);
    if (!$node)
    return;
    if (!$node.style.display || $node.style.display == 'none') {
    $node.style.display = 'block';
    $link.innerHTML = 'Hide source &nequiv;';
    } else {
    $node.style.display = 'none';
    $link.innerHTML = 'Show source &equiv;';
    }
  }
  </script>
</head>
<body>
<a href="#" id="top">Top</a>

<div id="container">
    
  
  <div id="sidebar">
    <h1>Index</h1>
    <ul id="index">

    <li class="set"><h3><a href="#header-functions">Functions</a></h3>
      
  <ul>
    <li class="mono"><a href="#thinkland_rpi_car.main">main</a></li>
  </ul>

    </li>

    <li class="set"><h3><a href="#header-classes">Classes</a></h3>
      <ul>
        <li class="mono">
        <span class="class_name"><a href="#thinkland_rpi_car.Car">Car</a></span>
        
          
  <ul>
    <li class="mono"><a href="#thinkland_rpi_car.Car.__init__">__init__</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.demo_cruising">demo_cruising</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.distance_from_obstacle">distance_from_obstacle</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.init">init</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.led_light">led_light</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.obstacle_status_from_infrared">obstacle_status_from_infrared</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.obstacle_status_from_ultrasound">obstacle_status_from_ultrasound</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.run_forward">run_forward</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.run_reverse">run_reverse</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.spin_left">spin_left</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.spin_right">spin_right</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.stop_all_wheels">stop_all_wheels</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.stop_completely">stop_completely</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.turn_left">turn_left</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.turn_right">turn_right</a></li>
    <li class="mono"><a href="#thinkland_rpi_car.Car.turn_servo_ultrasonic">turn_servo_ultrasonic</a></li>
  </ul>

        </li>
      </ul>
    </li>

    </ul>
  </div>

    <article id="content">
      
  

  


  <header id="section-intro">
  <h1 class="title"><span class="name">thinkland_rpi_car</span> module</h1>
  
  
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car" class="source">
    <div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">RPi.GPIO</span> <span class="kn">as</span> <span class="nn">GPIO</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">random</span>


<span class="k">class</span> <span class="nc">Car</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class that represents a Thinkland Raspberry Pi Car with the</span>
<span class="sd">    following I/O components:</span>

<span class="sd">    * 2 infrared sensors in the front on the lower deck (left and right)</span>
<span class="sd">    * 1 ultrasonic sensor in the front on the upper deck</span>
<span class="sd">    * 1 line-tracking sensor in the front below the lower deck</span>
<span class="sd">    * 4 DC-motors (2 on the left and 2 on the right)</span>
<span class="sd">    * 1 servo panning the ultrasonic sensor (180-degree movement)</span>
<span class="sd">    * 1 servo panning the camera (horizontal 180-degree movement)</span>
<span class="sd">    * 1 servo tilting the camera (vertical 180-degree movement)</span>
<span class="sd">    * 1 LED light mounted on top of ultrasonic sensor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PIN definition</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">PIN_MOTOR_LEFT_FORWARD</span>   <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># AIN_2</span>
    <span class="n">PIN_MOTOR_LEFT_BACKWARD</span>  <span class="o">=</span> <span class="mi">21</span>  <span class="c1"># AIN_1</span>
    <span class="n">PIN_MOTOR_RIGHT_FORWARD</span>  <span class="o">=</span> <span class="mi">19</span>  <span class="c1"># BIN_2</span>
    <span class="n">PIN_MOTOR_RIGHT_BACKWARD</span> <span class="o">=</span> <span class="mi">26</span>  <span class="c1"># BIN_1</span>
    <span class="n">PIN_MOTOR_LEFT_SPEED</span>     <span class="o">=</span> <span class="mi">16</span>  <span class="c1"># PWM_A</span>
    <span class="n">PIN_MOTOR_RIGHT_SPEED</span>    <span class="o">=</span> <span class="mi">13</span>  <span class="c1"># PWM_B</span>

    <span class="n">PIN_INFRARED_LEFT</span>        <span class="o">=</span> <span class="mi">12</span>
    <span class="n">PIN_INFRARED_RIGHT</span>       <span class="o">=</span> <span class="mi">17</span>

    <span class="n">PIN_SERVO_ULTRASONIC</span>     <span class="o">=</span> <span class="mi">23</span>
    <span class="n">PIN_ULTRASONIC_TRIG</span>      <span class="o">=</span> <span class="mi">1</span>
    <span class="n">PIN_ULTRASONIC_ECHO</span>      <span class="o">=</span> <span class="mi">0</span>

    <span class="n">PIN_LED_R</span>                <span class="o">=</span> <span class="mi">22</span>
    <span class="n">PIN_LED_G</span>                <span class="o">=</span> <span class="mi">27</span>
    <span class="n">PIN_LED_B</span>                <span class="o">=</span> <span class="mi">24</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>

<span class="sd">        Initialize the Car</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the Car</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setwarnings</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>  <span class="c1"># ?</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_FORWARD</span><span class="p">,</span>   <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_BACKWARD</span><span class="p">,</span>  <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_FORWARD</span><span class="p">,</span>  <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_BACKWARD</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_SPEED</span><span class="p">,</span>     <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_SPEED</span><span class="p">,</span>    <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_LEFT</span><span class="p">,</span>        <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_RIGHT</span><span class="p">,</span>       <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_SERVO_ULTRASONIC</span><span class="p">,</span>     <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span>      <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">,</span>      <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_R</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_G</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_B</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span>  <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_SPEED</span><span class="p">,</span>  <span class="mi">2000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_SPEED</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_SERVO_ULTRASONIC</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_motion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left_forward</span><span class="p">,</span> <span class="n">left_backward</span><span class="p">,</span>
                    <span class="n">right_forward</span><span class="p">,</span> <span class="n">right_backward</span><span class="p">,</span>
                    <span class="n">speed_left</span><span class="p">,</span> <span class="n">speed_right</span><span class="p">,</span>
                    <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper function to set car wheel motions</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * left_forward   : GPIO.HIGH or LOW</span>
<span class="sd">        * left_backward  : GPIO.HIGH or LOW</span>
<span class="sd">        * right_forward  : GPIO.HIGH or LOW</span>
<span class="sd">        * right_backward : GPIO.HIGH or LOW</span>
<span class="sd">        * speed_left     : int</span>
<span class="sd">            An integer [0,100] for left motors speed</span>
<span class="sd">        * speed_right    : int</span>
<span class="sd">            An integer [0,100] for right motors speed</span>
<span class="sd">        * duration       : float</span>
<span class="sd">            Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until called again)</span>
<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_FORWARD</span><span class="p">,</span>   <span class="n">left_forward</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_BACKWARD</span><span class="p">,</span>  <span class="n">left_backward</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_FORWARD</span><span class="p">,</span>  <span class="n">right_forward</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_BACKWARD</span><span class="p">,</span> <span class="n">right_backward</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="n">speed_left</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="n">speed_right</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">duration</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop_all_wheels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stop wheel movement</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop_completely</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Completely stop the Car</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">run_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">turn_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turn left - only right-hand-side wheels run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="mi">0</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">turn_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turn right - only left-hand-side wheels run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">spin_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Spin to the left in place</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">spin_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Spin to the left in place</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">turn_servo_ultrasonic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">90</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turn the servo for ultrasonic sensor</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * dir : str</span>
<span class="sd">            - one of [&#39;left&#39;, &#39;center&#39;, &#39;right&#39;]</span>
<span class="sd">            - if dir == &#39;degree&#39;, use degree parameter</span>
<span class="sd">        * degrees : int</span>
<span class="sd">            - [0, 180]</span>
<span class="sd">            - if dir is specified other than &#39;degree&#39;, this is ignored</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 0 degrees :  duty cycle =  2.5% of 20ms</span>
        <span class="c1"># 90 degrees:  duty cycle =  7.5% of 20ms</span>
        <span class="c1"># 180 degrees: duty cycle = 12.5% of 20ms</span>
        <span class="k">if</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="p">:</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="mi">90</span>
        <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="mi">180</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>  <span class="c1"># do this for multiple times just to make sure</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="mf">2.5</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">degree</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>  <span class="c1"># give enough time to settle</span>

    <span class="k">def</span> <span class="nf">distance_from_obstacle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Measure the distance between ultrasonic sensor and the obstacle</span>
<span class="sd">        that it faces.</span>

<span class="sd">        The obstacle should have a relatively smooth surface for this</span>
<span class="sd">        to be effective. Distance to fabric or other sound-absorbing</span>
<span class="sd">        surfaces is difficult to measure.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        * int</span>
<span class="sd">            - Measured in centimeters: valid range is 2cm to 400cm</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set HIGH at TRIG for 15us to trigger the ultrasonic ping</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.000015</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>

        <span class="c1"># wait until echo is received</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="c1"># duration of the ECHO being high is how long the sound travels</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="n">t2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">343</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">distance</span>

    <span class="k">def</span> <span class="nf">obstacle_status_from_infrared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return obstacle status obtained by infrared sensors that</span>
<span class="sd">        are situated at the left front and right front of the Car.</span>
<span class="sd">        The infrared sensors are located on the lower deck, so they</span>
<span class="sd">        have a lower view than the ultrasonic sensor.</span>

<span class="sd">        Indicates blockage by obstacle &lt; 20cm away.</span>
<span class="sd">        Depending on sensitivity of sensors, the distance of obstacles</span>
<span class="sd">        sometimes needs to be as short as 15cm for effective detection</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        * str</span>
<span class="sd">            - one of [&#39;only_left_blocked&#39;, &#39;only_right_blocked&#39;,</span>
<span class="sd">                    &#39;blocked&#39;, &#39;clear&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_left_clear</span>  <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_LEFT</span><span class="p">)</span>
        <span class="n">is_right_clear</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_RIGHT</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="n">is_right_clear</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;clear&#39;</span>
        <span class="k">elif</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_right_clear</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;only_right_blocked&#39;</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="n">is_right_clear</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;only_left_blocked&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;blocked&#39;</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Infrared status = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">obstacle_status_from_ultrasound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return obstacle status obtained by ultrasonic sensor that is</span>
<span class="sd">        situated in the front of the Car. The ultrasonic sensor is</span>
<span class="sd">        located in the upper deck so it has a higher view than the</span>
<span class="sd">        infrared sensors.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * dir : str</span>
<span class="sd">            - set the ultrasonic sensor to face a direction,</span>
<span class="sd">            one of [&#39;center&#39;, &#39;left&#39;, &#39;right&#39;]. Default is &#39;center&#39;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        * str</span>
<span class="sd">            - &#39;blocked&#39; if distance &lt;= 20cm</span>
<span class="sd">            - &#39;approaching_obstacle&#39; if distance is (20, 50]</span>
<span class="sd">            - &#39;clear&#39; if distance &gt; 50cm</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">turn_servo_ultrasonic</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_obstacle</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;blocked&#39;</span>
        <span class="k">elif</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;approaching_obstacle&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;clear&#39;</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Ultrasound status = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">_led_light</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_R</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_G</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_B</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">led_light</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Shine LED light</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * color : str</span>
<span class="sd">            - one of [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;,</span>
<span class="sd">                      &#39;yellow&#39;, &#39;cyan&#39;, &#39;purple&#39;</span>
<span class="sd">                      &#39;white&#39;, &#39;off&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;red&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;green&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;yellow&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;cyan&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;white&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">demo_cruising</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Demonstrates a cruising car that avoids obstacles in a room</span>

<span class="sd">        * Use infrared sensors and ultrasonic sensor to gauge obstacles</span>
<span class="sd">        * Use LED lights to indicate running/turning decisions</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">car</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

            <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="n">obstacle_status_from_infrared</span> <span class="o">=</span> <span class="n">car</span><span class="o">.</span><span class="n">obstacle_status_from_infrared</span><span class="p">()</span>
                <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">if</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;clear&#39;</span><span class="p">:</span>
                    <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="n">obstacle_status_from_ultrasound</span> <span class="o">=</span> \
                        <span class="n">car</span><span class="o">.</span><span class="n">obstacle_status_from_ultrasound</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">obstacle_status_from_ultrasound</span> <span class="o">==</span> <span class="s1">&#39;clear&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">run_forward</span><span class="p">(</span><span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">obstacle_status_from_ultrasound</span> <span class="o">==</span> <span class="s1">&#39;approaching_obstacle&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">run_forward</span><span class="p">(</span><span class="n">speed</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">if</span> <span class="n">should_turn</span><span class="p">:</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">run_reverse</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;only_right_blocked&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">spin_left</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
                    <span class="k">elif</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;only_left_blocked&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;cyan&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">spin_right</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">spin_right</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="n">car</span><span class="o">.</span><span class="n">stop_completely</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">Car</span><span class="o">.</span><span class="n">demo_cruising</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div>

  </div>

  </header>

  <section id="section-items">

    <h2 class="section-title" id="header-functions">Functions</h2>
      
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.main">
    <p>def <span class="ident">main</span>(</p><p>)</p>
    </div>
    

    
  
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.main', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.main" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">Car</span><span class="o">.</span><span class="n">demo_cruising</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  

    <h2 class="section-title" id="header-classes">Classes</h2>
      
      <div class="item">
      <p id="thinkland_rpi_car.Car" class="name">class <span class="ident">Car</span></p>
      
  
    <div class="desc"><p>A class that represents a Thinkland Raspberry Pi Car with the
following I/O components:</p>
<ul>
<li>2 infrared sensors in the front on the lower deck (left and right)</li>
<li>1 ultrasonic sensor in the front on the upper deck</li>
<li>1 line-tracking sensor in the front below the lower deck</li>
<li>4 DC-motors (2 on the left and 2 on the right)</li>
<li>1 servo panning the ultrasonic sensor (180-degree movement)</li>
<li>1 servo panning the camera (horizontal 180-degree movement)</li>
<li>1 servo tilting the camera (vertical 180-degree movement)</li>
<li>1 LED light mounted on top of ultrasonic sensor</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car" class="source">
    <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">Car</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A class that represents a Thinkland Raspberry Pi Car with the</span>
<span class="sd">    following I/O components:</span>

<span class="sd">    * 2 infrared sensors in the front on the lower deck (left and right)</span>
<span class="sd">    * 1 ultrasonic sensor in the front on the upper deck</span>
<span class="sd">    * 1 line-tracking sensor in the front below the lower deck</span>
<span class="sd">    * 4 DC-motors (2 on the left and 2 on the right)</span>
<span class="sd">    * 1 servo panning the ultrasonic sensor (180-degree movement)</span>
<span class="sd">    * 1 servo panning the camera (horizontal 180-degree movement)</span>
<span class="sd">    * 1 servo tilting the camera (vertical 180-degree movement)</span>
<span class="sd">    * 1 LED light mounted on top of ultrasonic sensor</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    PIN definition</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">PIN_MOTOR_LEFT_FORWARD</span>   <span class="o">=</span> <span class="mi">20</span>  <span class="c1"># AIN_2</span>
    <span class="n">PIN_MOTOR_LEFT_BACKWARD</span>  <span class="o">=</span> <span class="mi">21</span>  <span class="c1"># AIN_1</span>
    <span class="n">PIN_MOTOR_RIGHT_FORWARD</span>  <span class="o">=</span> <span class="mi">19</span>  <span class="c1"># BIN_2</span>
    <span class="n">PIN_MOTOR_RIGHT_BACKWARD</span> <span class="o">=</span> <span class="mi">26</span>  <span class="c1"># BIN_1</span>
    <span class="n">PIN_MOTOR_LEFT_SPEED</span>     <span class="o">=</span> <span class="mi">16</span>  <span class="c1"># PWM_A</span>
    <span class="n">PIN_MOTOR_RIGHT_SPEED</span>    <span class="o">=</span> <span class="mi">13</span>  <span class="c1"># PWM_B</span>

    <span class="n">PIN_INFRARED_LEFT</span>        <span class="o">=</span> <span class="mi">12</span>
    <span class="n">PIN_INFRARED_RIGHT</span>       <span class="o">=</span> <span class="mi">17</span>

    <span class="n">PIN_SERVO_ULTRASONIC</span>     <span class="o">=</span> <span class="mi">23</span>
    <span class="n">PIN_ULTRASONIC_TRIG</span>      <span class="o">=</span> <span class="mi">1</span>
    <span class="n">PIN_ULTRASONIC_ECHO</span>      <span class="o">=</span> <span class="mi">0</span>

    <span class="n">PIN_LED_R</span>                <span class="o">=</span> <span class="mi">22</span>
    <span class="n">PIN_LED_G</span>                <span class="o">=</span> <span class="mi">27</span>
    <span class="n">PIN_LED_B</span>                <span class="o">=</span> <span class="mi">24</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Constructor</span>

<span class="sd">        Initialize the Car</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the Car</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setwarnings</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>  <span class="c1"># ?</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_FORWARD</span><span class="p">,</span>   <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_BACKWARD</span><span class="p">,</span>  <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_FORWARD</span><span class="p">,</span>  <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_BACKWARD</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_SPEED</span><span class="p">,</span>     <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_SPEED</span><span class="p">,</span>    <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_LEFT</span><span class="p">,</span>        <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_RIGHT</span><span class="p">,</span>       <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_SERVO_ULTRASONIC</span><span class="p">,</span>     <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span>      <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">,</span>      <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>

        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_R</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_G</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_B</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span>  <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_SPEED</span><span class="p">,</span>  <span class="mi">2000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_SPEED</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_SERVO_ULTRASONIC</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_motion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left_forward</span><span class="p">,</span> <span class="n">left_backward</span><span class="p">,</span>
                    <span class="n">right_forward</span><span class="p">,</span> <span class="n">right_backward</span><span class="p">,</span>
                    <span class="n">speed_left</span><span class="p">,</span> <span class="n">speed_right</span><span class="p">,</span>
                    <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper function to set car wheel motions</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * left_forward   : GPIO.HIGH or LOW</span>
<span class="sd">        * left_backward  : GPIO.HIGH or LOW</span>
<span class="sd">        * right_forward  : GPIO.HIGH or LOW</span>
<span class="sd">        * right_backward : GPIO.HIGH or LOW</span>
<span class="sd">        * speed_left     : int</span>
<span class="sd">            An integer [0,100] for left motors speed</span>
<span class="sd">        * speed_right    : int</span>
<span class="sd">            An integer [0,100] for right motors speed</span>
<span class="sd">        * duration       : float</span>
<span class="sd">            Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until called again)</span>
<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_FORWARD</span><span class="p">,</span>   <span class="n">left_forward</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_BACKWARD</span><span class="p">,</span>  <span class="n">left_backward</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_FORWARD</span><span class="p">,</span>  <span class="n">right_forward</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_BACKWARD</span><span class="p">,</span> <span class="n">right_backward</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="n">speed_left</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="n">speed_right</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">duration</span> <span class="o">&gt;</span> <span class="mf">0.0</span><span class="p">:</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop_all_wheels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stop wheel movement</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop_completely</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Completely stop the Car</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">run_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">run_reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">turn_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turn left - only right-hand-side wheels run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="mi">0</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">turn_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turn right - only left-hand-side wheels run forward</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">spin_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Spin to the left in place</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">spin_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Spin to the left in place</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * speed : int</span>
<span class="sd">            - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">        * duration : float</span>
<span class="sd">            - Duration of the motion.</span>
<span class="sd">            (default=0.0 - continue indefinitely until other motions are set)</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span>
                         <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">turn_servo_ultrasonic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">90</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Turn the servo for ultrasonic sensor</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * dir : str</span>
<span class="sd">            - one of [&#39;left&#39;, &#39;center&#39;, &#39;right&#39;]</span>
<span class="sd">            - if dir == &#39;degree&#39;, use degree parameter</span>
<span class="sd">        * degrees : int</span>
<span class="sd">            - [0, 180]</span>
<span class="sd">            - if dir is specified other than &#39;degree&#39;, this is ignored</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># 0 degrees :  duty cycle =  2.5% of 20ms</span>
        <span class="c1"># 90 degrees:  duty cycle =  7.5% of 20ms</span>
        <span class="c1"># 180 degrees: duty cycle = 12.5% of 20ms</span>
        <span class="k">if</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="p">:</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="mi">90</span>
        <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
            <span class="n">degree</span> <span class="o">=</span> <span class="mi">180</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>  <span class="c1"># do this for multiple times just to make sure</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="mf">2.5</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">degree</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>  <span class="c1"># give enough time to settle</span>

    <span class="k">def</span> <span class="nf">distance_from_obstacle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Measure the distance between ultrasonic sensor and the obstacle</span>
<span class="sd">        that it faces.</span>

<span class="sd">        The obstacle should have a relatively smooth surface for this</span>
<span class="sd">        to be effective. Distance to fabric or other sound-absorbing</span>
<span class="sd">        surfaces is difficult to measure.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        * int</span>
<span class="sd">            - Measured in centimeters: valid range is 2cm to 400cm</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># set HIGH at TRIG for 15us to trigger the ultrasonic ping</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.000015</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>

        <span class="c1"># wait until echo is received</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">):</span>
            <span class="k">pass</span>

        <span class="c1"># duration of the ECHO being high is how long the sound travels</span>
        <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">while</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="n">t2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">343</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">distance</span>

    <span class="k">def</span> <span class="nf">obstacle_status_from_infrared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return obstacle status obtained by infrared sensors that</span>
<span class="sd">        are situated at the left front and right front of the Car.</span>
<span class="sd">        The infrared sensors are located on the lower deck, so they</span>
<span class="sd">        have a lower view than the ultrasonic sensor.</span>

<span class="sd">        Indicates blockage by obstacle &lt; 20cm away.</span>
<span class="sd">        Depending on sensitivity of sensors, the distance of obstacles</span>
<span class="sd">        sometimes needs to be as short as 15cm for effective detection</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        * str</span>
<span class="sd">            - one of [&#39;only_left_blocked&#39;, &#39;only_right_blocked&#39;,</span>
<span class="sd">                    &#39;blocked&#39;, &#39;clear&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">is_left_clear</span>  <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_LEFT</span><span class="p">)</span>
        <span class="n">is_right_clear</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_RIGHT</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="n">is_right_clear</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;clear&#39;</span>
        <span class="k">elif</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_right_clear</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;only_right_blocked&#39;</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="n">is_right_clear</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;only_left_blocked&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;blocked&#39;</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Infrared status = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">obstacle_status_from_ultrasound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Return obstacle status obtained by ultrasonic sensor that is</span>
<span class="sd">        situated in the front of the Car. The ultrasonic sensor is</span>
<span class="sd">        located in the upper deck so it has a higher view than the</span>
<span class="sd">        infrared sensors.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * dir : str</span>
<span class="sd">            - set the ultrasonic sensor to face a direction,</span>
<span class="sd">            one of [&#39;center&#39;, &#39;left&#39;, &#39;right&#39;]. Default is &#39;center&#39;</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        * str</span>
<span class="sd">            - &#39;blocked&#39; if distance &lt;= 20cm</span>
<span class="sd">            - &#39;approaching_obstacle&#39; if distance is (20, 50]</span>
<span class="sd">            - &#39;clear&#39; if distance &gt; 50cm</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">turn_servo_ultrasonic</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
        <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_obstacle</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;blocked&#39;</span>
        <span class="k">elif</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;approaching_obstacle&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;clear&#39;</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Ultrasound status = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">status</span>

    <span class="k">def</span> <span class="nf">_led_light</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_R</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_G</span><span class="p">,</span> <span class="n">g</span><span class="p">)</span>
        <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_B</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">led_light</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Shine LED light</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        * color : str</span>
<span class="sd">            - one of [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;,</span>
<span class="sd">                      &#39;yellow&#39;, &#39;cyan&#39;, &#39;purple&#39;</span>
<span class="sd">                      &#39;white&#39;, &#39;off&#39;]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;red&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;green&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;yellow&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;cyan&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;white&#39;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">demo_cruising</span><span class="p">():</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Demonstrates a cruising car that avoids obstacles in a room</span>

<span class="sd">        * Use infrared sensors and ultrasonic sensor to gauge obstacles</span>
<span class="sd">        * Use LED lights to indicate running/turning decisions</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">car</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>

            <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
                <span class="n">obstacle_status_from_infrared</span> <span class="o">=</span> <span class="n">car</span><span class="o">.</span><span class="n">obstacle_status_from_infrared</span><span class="p">()</span>
                <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">if</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;clear&#39;</span><span class="p">:</span>
                    <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">False</span>
                    <span class="n">obstacle_status_from_ultrasound</span> <span class="o">=</span> \
                        <span class="n">car</span><span class="o">.</span><span class="n">obstacle_status_from_ultrasound</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">obstacle_status_from_ultrasound</span> <span class="o">==</span> <span class="s1">&#39;clear&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">run_forward</span><span class="p">(</span><span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
                    <span class="k">elif</span> <span class="n">obstacle_status_from_ultrasound</span> <span class="o">==</span> <span class="s1">&#39;approaching_obstacle&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">run_forward</span><span class="p">(</span><span class="n">speed</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">True</span>
                <span class="k">if</span> <span class="n">should_turn</span><span class="p">:</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">run_reverse</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;only_right_blocked&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">spin_left</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
                    <span class="k">elif</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;only_left_blocked&#39;</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;cyan&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">spin_right</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
                        <span class="n">car</span><span class="o">.</span><span class="n">spin_right</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
        <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
            <span class="n">car</span><span class="o">.</span><span class="n">stop_completely</span><span class="p">()</span>
</pre></div>

  </div>
</div>


      <div class="class">
          <h3>Ancestors (in MRO)</h3>
          <ul class="class_list">
          <li><a href="#thinkland_rpi_car.Car">Car</a></li>
          <li>builtins.object</li>
          </ul>
          <h3>Class variables</h3>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_INFRARED_LEFT" class="name">var <span class="ident">PIN_INFRARED_LEFT</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_INFRARED_RIGHT" class="name">var <span class="ident">PIN_INFRARED_RIGHT</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_LED_B" class="name">var <span class="ident">PIN_LED_B</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_LED_G" class="name">var <span class="ident">PIN_LED_G</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_LED_R" class="name">var <span class="ident">PIN_LED_R</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_MOTOR_LEFT_BACKWARD" class="name">var <span class="ident">PIN_MOTOR_LEFT_BACKWARD</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_MOTOR_LEFT_FORWARD" class="name">var <span class="ident">PIN_MOTOR_LEFT_FORWARD</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_MOTOR_LEFT_SPEED" class="name">var <span class="ident">PIN_MOTOR_LEFT_SPEED</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_MOTOR_RIGHT_BACKWARD" class="name">var <span class="ident">PIN_MOTOR_RIGHT_BACKWARD</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_MOTOR_RIGHT_FORWARD" class="name">var <span class="ident">PIN_MOTOR_RIGHT_FORWARD</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_MOTOR_RIGHT_SPEED" class="name">var <span class="ident">PIN_MOTOR_RIGHT_SPEED</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_SERVO_ULTRASONIC" class="name">var <span class="ident">PIN_SERVO_ULTRASONIC</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_ULTRASONIC_ECHO" class="name">var <span class="ident">PIN_ULTRASONIC_ECHO</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
            <div class="item">
            <p id="thinkland_rpi_car.Car.PIN_ULTRASONIC_TRIG" class="name">var <span class="ident">PIN_ULTRASONIC_TRIG</span></p>
            

            
  
  <div class="source_cont">
</div>

            </div>
          <h3>Static methods</h3>
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.__init__">
    <p>def <span class="ident">__init__</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Constructor</p>
<p>Initialize the Car</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.__init__', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.__init__" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Constructor</span>
<span class="sd">    Initialize the Car</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.demo_cruising">
    <p>def <span class="ident">demo_cruising</span>(</p><p>)</p>
    </div>
    

    
  
    <div class="desc"><p>Demonstrates a cruising car that avoids obstacles in a room</p>
<ul>
<li>Use infrared sensors and ultrasonic sensor to gauge obstacles</li>
<li>Use LED lights to indicate running/turning decisions</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.demo_cruising', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.demo_cruising" class="source">
    <div class="codehilite"><pre><span></span><span class="nd">@staticmethod</span>
<span class="k">def</span> <span class="nf">demo_cruising</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Demonstrates a cruising car that avoids obstacles in a room</span>
<span class="sd">    * Use infrared sensors and ultrasonic sensor to gauge obstacles</span>
<span class="sd">    * Use LED lights to indicate running/turning decisions</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">obstacle_status_from_infrared</span> <span class="o">=</span> <span class="n">car</span><span class="o">.</span><span class="n">obstacle_status_from_infrared</span><span class="p">()</span>
            <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;clear&#39;</span><span class="p">:</span>
                <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">False</span>
                <span class="n">obstacle_status_from_ultrasound</span> <span class="o">=</span> \
                    <span class="n">car</span><span class="o">.</span><span class="n">obstacle_status_from_ultrasound</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">obstacle_status_from_ultrasound</span> <span class="o">==</span> <span class="s1">&#39;clear&#39;</span><span class="p">:</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">run_forward</span><span class="p">(</span><span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">obstacle_status_from_ultrasound</span> <span class="o">==</span> <span class="s1">&#39;approaching_obstacle&#39;</span><span class="p">:</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;yellow&#39;</span><span class="p">)</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">run_forward</span><span class="p">(</span><span class="n">speed</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">should_turn</span> <span class="o">=</span> <span class="bp">True</span>
            <span class="k">if</span> <span class="n">should_turn</span><span class="p">:</span>
                <span class="n">car</span><span class="o">.</span><span class="n">run_reverse</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mf">0.02</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;only_right_blocked&#39;</span><span class="p">:</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;purple&#39;</span><span class="p">)</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">spin_left</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
                <span class="k">elif</span> <span class="n">obstacle_status_from_infrared</span> <span class="o">==</span> <span class="s1">&#39;only_left_blocked&#39;</span><span class="p">:</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;cyan&#39;</span><span class="p">)</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">spin_right</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">led_light</span><span class="p">(</span><span class="s1">&#39;red&#39;</span><span class="p">)</span>
                    <span class="n">car</span><span class="o">.</span><span class="n">spin_right</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">KeyboardInterrupt</span><span class="p">:</span>
        <span class="n">car</span><span class="o">.</span><span class="n">stop_completely</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.distance_from_obstacle">
    <p>def <span class="ident">distance_from_obstacle</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Measure the distance between ultrasonic sensor and the obstacle
that it faces.</p>
<p>The obstacle should have a relatively smooth surface for this
to be effective. Distance to fabric or other sound-absorbing
surfaces is difficult to measure.</p>
<h2>Returns</h2>
<ul>
<li>int<ul>
<li>Measured in centimeters: valid range is 2cm to 400cm</li>
</ul>
</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.distance_from_obstacle', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.distance_from_obstacle" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">distance_from_obstacle</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Measure the distance between ultrasonic sensor and the obstacle</span>
<span class="sd">    that it faces.</span>
<span class="sd">    The obstacle should have a relatively smooth surface for this</span>
<span class="sd">    to be effective. Distance to fabric or other sound-absorbing</span>
<span class="sd">    surfaces is difficult to measure.</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    * int</span>
<span class="sd">        - Measured in centimeters: valid range is 2cm to 400cm</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># set HIGH at TRIG for 15us to trigger the ultrasonic ping</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.000015</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">output</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="c1"># wait until echo is received</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="c1"># duration of the ECHO being high is how long the sound travels</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">while</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">):</span>
        <span class="k">pass</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">t2</span> <span class="o">-</span> <span class="n">t1</span><span class="p">)</span> <span class="o">*</span> <span class="mi">343</span> <span class="o">/</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">t2</span><span class="o">-</span><span class="n">t1</span><span class="p">,</span> <span class="n">distance</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">distance</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.init">
    <p>def <span class="ident">init</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Initialize the Car</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.init', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.init" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialize the Car</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setmode</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">BCM</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setwarnings</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>  <span class="c1"># ?</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_FORWARD</span><span class="p">,</span>   <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_BACKWARD</span><span class="p">,</span>  <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_FORWARD</span><span class="p">,</span>  <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_BACKWARD</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_SPEED</span><span class="p">,</span>     <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_SPEED</span><span class="p">,</span>    <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_LEFT</span><span class="p">,</span>        <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_RIGHT</span><span class="p">,</span>       <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_SERVO_ULTRASONIC</span><span class="p">,</span>     <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_TRIG</span><span class="p">,</span>      <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_ULTRASONIC_ECHO</span><span class="p">,</span>      <span class="n">GPIO</span><span class="o">.</span><span class="n">IN</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_R</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_G</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_LED_B</span><span class="p">,</span>                <span class="n">GPIO</span><span class="o">.</span><span class="n">OUT</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span>  <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_LEFT_SPEED</span><span class="p">,</span>  <span class="mi">2000</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_MOTOR_RIGHT_SPEED</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">PWM</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_SERVO_ULTRASONIC</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.led_light">
    <p>def <span class="ident">led_light</span>(</p><p>self, color)</p>
    </div>
    

    
  
    <div class="desc"><p>Shine LED light</p>
<h2>Parameters</h2>
<ul>
<li>color : str<ul>
<li>one of ['red', 'green', 'blue',
          'yellow', 'cyan', 'purple'
          'white', 'off']</li>
</ul>
</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.led_light', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.led_light" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">led_light</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">color</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Shine LED light</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * color : str</span>
<span class="sd">        - one of [&#39;red&#39;, &#39;green&#39;, &#39;blue&#39;,</span>
<span class="sd">                  &#39;yellow&#39;, &#39;cyan&#39;, &#39;purple&#39;</span>
<span class="sd">                  &#39;white&#39;, &#39;off&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;red&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;green&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;blue&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;yellow&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;cyan&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;purple&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">color</span> <span class="o">==</span> <span class="s1">&#39;white&#39;</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_led_light</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.obstacle_status_from_infrared">
    <p>def <span class="ident">obstacle_status_from_infrared</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Return obstacle status obtained by infrared sensors that
are situated at the left front and right front of the Car.
The infrared sensors are located on the lower deck, so they
have a lower view than the ultrasonic sensor.</p>
<p>Indicates blockage by obstacle &lt; 20cm away.
Depending on sensitivity of sensors, the distance of obstacles
sometimes needs to be as short as 15cm for effective detection</p>
<h2>Returns</h2>
<ul>
<li>str<ul>
<li>one of ['only_left_blocked', 'only_right_blocked',
        'blocked', 'clear']</li>
</ul>
</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.obstacle_status_from_infrared', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.obstacle_status_from_infrared" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">obstacle_status_from_infrared</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return obstacle status obtained by infrared sensors that</span>
<span class="sd">    are situated at the left front and right front of the Car.</span>
<span class="sd">    The infrared sensors are located on the lower deck, so they</span>
<span class="sd">    have a lower view than the ultrasonic sensor.</span>
<span class="sd">    Indicates blockage by obstacle &lt; 20cm away.</span>
<span class="sd">    Depending on sensitivity of sensors, the distance of obstacles</span>
<span class="sd">    sometimes needs to be as short as 15cm for effective detection</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    * str</span>
<span class="sd">        - one of [&#39;only_left_blocked&#39;, &#39;only_right_blocked&#39;,</span>
<span class="sd">                &#39;blocked&#39;, &#39;clear&#39;]</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">is_left_clear</span>  <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_LEFT</span><span class="p">)</span>
    <span class="n">is_right_clear</span> <span class="o">=</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="n">Car</span><span class="o">.</span><span class="n">PIN_INFRARED_RIGHT</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="n">is_right_clear</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;clear&#39;</span>
    <span class="k">elif</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">is_right_clear</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;only_right_blocked&#39;</span>
    <span class="k">elif</span> <span class="ow">not</span> <span class="n">is_left_clear</span> <span class="ow">and</span> <span class="n">is_right_clear</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;only_left_blocked&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;blocked&#39;</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Infrared status = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">status</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.obstacle_status_from_ultrasound">
    <p>def <span class="ident">obstacle_status_from_ultrasound</span>(</p><p>self, dir=&#39;center&#39;)</p>
    </div>
    

    
  
    <div class="desc"><p>Return obstacle status obtained by ultrasonic sensor that is
situated in the front of the Car. The ultrasonic sensor is
located in the upper deck so it has a higher view than the
infrared sensors.</p>
<h2>Parameters</h2>
<ul>
<li>dir : str<ul>
<li>set the ultrasonic sensor to face a direction,
one of ['center', 'left', 'right']. Default is 'center'</li>
</ul>
</li>
</ul>
<h2>Returns</h2>
<ul>
<li>str<ul>
<li>'blocked' if distance &lt;= 20cm</li>
<li>'approaching_obstacle' if distance is (20, 50]</li>
<li>'clear' if distance &gt; 50cm</li>
</ul>
</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.obstacle_status_from_ultrasound', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.obstacle_status_from_ultrasound" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">obstacle_status_from_ultrasound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Return obstacle status obtained by ultrasonic sensor that is</span>
<span class="sd">    situated in the front of the Car. The ultrasonic sensor is</span>
<span class="sd">    located in the upper deck so it has a higher view than the</span>
<span class="sd">    infrared sensors.</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * dir : str</span>
<span class="sd">        - set the ultrasonic sensor to face a direction,</span>
<span class="sd">        one of [&#39;center&#39;, &#39;left&#39;, &#39;right&#39;]. Default is &#39;center&#39;</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    * str</span>
<span class="sd">        - &#39;blocked&#39; if distance &lt;= 20cm</span>
<span class="sd">        - &#39;approaching_obstacle&#39; if distance is (20, 50]</span>
<span class="sd">        - &#39;clear&#39; if distance &gt; 50cm</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">turn_servo_ultrasonic</span><span class="p">(</span><span class="nb">dir</span><span class="p">)</span>
    <span class="n">distance</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distance_from_obstacle</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;blocked&#39;</span>
    <span class="k">elif</span> <span class="n">distance</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;approaching_obstacle&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;clear&#39;</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Ultrasound status = {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">status</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">status</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.run_forward">
    <p>def <span class="ident">run_forward</span>(</p><p>self, speed=50, duration=0.0)</p>
    </div>
    

    
  
    <div class="desc"><p>Run forward</p>
<h2>Parameters</h2>
<ul>
<li>speed : int<ul>
<li>Speed of the motors. Valid range [0, 100]</li>
</ul>
</li>
<li>duration : float<ul>
<li>Duration of the motion.
(default=0.0 - continue indefinitely until other motions are set)</li>
</ul>
</li>
</ul>
<h2>Raises</h2></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.run_forward', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.run_forward" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">run_forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run forward</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * speed : int</span>
<span class="sd">        - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">    * duration : float</span>
<span class="sd">        - Duration of the motion.</span>
<span class="sd">        (default=0.0 - continue indefinitely until other motions are set)</span>
<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                     <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.run_reverse">
    <p>def <span class="ident">run_reverse</span>(</p><p>self, speed=10, duration=0.0)</p>
    </div>
    

    
  
    <div class="desc"><p>Run forward</p>
<h2>Parameters</h2>
<ul>
<li>speed : int<ul>
<li>Speed of the motors. Valid range [0, 100]</li>
</ul>
</li>
<li>duration : float<ul>
<li>Duration of the motion.
(default=0.0 - continue indefinitely until other motions are set)</li>
</ul>
</li>
</ul>
<h2>Raises</h2></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.run_reverse', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.run_reverse" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">run_reverse</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Run forward</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * speed : int</span>
<span class="sd">        - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">    * duration : float</span>
<span class="sd">        - Duration of the motion.</span>
<span class="sd">        (default=0.0 - continue indefinitely until other motions are set)</span>
<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span>
                     <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.spin_left">
    <p>def <span class="ident">spin_left</span>(</p><p>self, speed=10, duration=0.0)</p>
    </div>
    

    
  
    <div class="desc"><p>Spin to the left in place</p>
<h2>Parameters</h2>
<ul>
<li>speed : int<ul>
<li>Speed of the motors. Valid range [0, 100]</li>
</ul>
</li>
<li>duration : float<ul>
<li>Duration of the motion.
(default=0.0 - continue indefinitely until other motions are set)</li>
</ul>
</li>
</ul>
<h2>Raises</h2></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.spin_left', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.spin_left" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">spin_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Spin to the left in place</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * speed : int</span>
<span class="sd">        - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">    * duration : float</span>
<span class="sd">        - Duration of the motion.</span>
<span class="sd">        (default=0.0 - continue indefinitely until other motions are set)</span>
<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                     <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.spin_right">
    <p>def <span class="ident">spin_right</span>(</p><p>self, speed=10, duration=0.0)</p>
    </div>
    

    
  
    <div class="desc"><p>Spin to the left in place</p>
<h2>Parameters</h2>
<ul>
<li>speed : int<ul>
<li>Speed of the motors. Valid range [0, 100]</li>
</ul>
</li>
<li>duration : float<ul>
<li>Duration of the motion.
(default=0.0 - continue indefinitely until other motions are set)</li>
</ul>
</li>
</ul>
<h2>Raises</h2></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.spin_right', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.spin_right" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">spin_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Spin to the left in place</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * speed : int</span>
<span class="sd">        - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">    * duration : float</span>
<span class="sd">        - Duration of the motion.</span>
<span class="sd">        (default=0.0 - continue indefinitely until other motions are set)</span>
<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span>
                     <span class="n">speed</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.stop_all_wheels">
    <p>def <span class="ident">stop_all_wheels</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Stop wheel movement</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.stop_all_wheels', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.stop_all_wheels" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stop_all_wheels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Stop wheel movement</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.stop_completely">
    <p>def <span class="ident">stop_completely</span>(</p><p>self)</p>
    </div>
    

    
  
    <div class="desc"><p>Completely stop the Car</p></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.stop_completely', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.stop_completely" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">stop_completely</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Completely stop the Car</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_left_speed</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_right_speed</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
    <span class="n">GPIO</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.turn_left">
    <p>def <span class="ident">turn_left</span>(</p><p>self, speed=10, duration=0.0)</p>
    </div>
    

    
  
    <div class="desc"><p>Turn left - only right-hand-side wheels run forward</p>
<h2>Parameters</h2>
<ul>
<li>speed : int<ul>
<li>Speed of the motors. Valid range [0, 100]</li>
</ul>
</li>
<li>duration : float<ul>
<li>Duration of the motion.
(default=0.0 - continue indefinitely until other motions are set)</li>
</ul>
</li>
</ul>
<h2>Raises</h2></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.turn_left', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.turn_left" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">turn_left</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Turn left - only right-hand-side wheels run forward</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * speed : int</span>
<span class="sd">        - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">    * duration : float</span>
<span class="sd">        - Duration of the motion.</span>
<span class="sd">        (default=0.0 - continue indefinitely until other motions are set)</span>
<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                     <span class="mi">0</span><span class="p">,</span> <span class="n">speed</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.turn_right">
    <p>def <span class="ident">turn_right</span>(</p><p>self, speed=10, duration=0.0)</p>
    </div>
    

    
  
    <div class="desc"><p>Turn right - only left-hand-side wheels run forward</p>
<h2>Parameters</h2>
<ul>
<li>speed : int<ul>
<li>Speed of the motors. Valid range [0, 100]</li>
</ul>
</li>
<li>duration : float<ul>
<li>Duration of the motion.
(default=0.0 - continue indefinitely until other motions are set)</li>
</ul>
</li>
</ul>
<h2>Raises</h2></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.turn_right', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.turn_right" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">turn_right</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">speed</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Turn right - only left-hand-side wheels run forward</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * speed : int</span>
<span class="sd">        - Speed of the motors. Valid range [0, 100]</span>
<span class="sd">    * duration : float</span>
<span class="sd">        - Duration of the motion.</span>
<span class="sd">        (default=0.0 - continue indefinitely until other motions are set)</span>
<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_set_motion</span><span class="p">(</span><span class="n">GPIO</span><span class="o">.</span><span class="n">HIGH</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span> <span class="n">GPIO</span><span class="o">.</span><span class="n">LOW</span><span class="p">,</span>
                     <span class="n">speed</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">duration</span><span class="p">)</span>
</pre></div>

  </div>
</div>

  </div>
  
            
  <div class="item">
    <div class="name def" id="thinkland_rpi_car.Car.turn_servo_ultrasonic">
    <p>def <span class="ident">turn_servo_ultrasonic</span>(</p><p>self, dir=&#39;degree&#39;, degree=90)</p>
    </div>
    

    
  
    <div class="desc"><p>Turn the servo for ultrasonic sensor</p>
<h2>Parameters</h2>
<ul>
<li>dir : str<ul>
<li>one of ['left', 'center', 'right']</li>
<li>if dir == 'degree', use degree parameter</li>
</ul>
</li>
<li>degrees : int<ul>
<li>[0, 180]</li>
<li>if dir is specified other than 'degree', this is ignored</li>
</ul>
</li>
</ul></div>
  <div class="source_cont">
  <p class="source_link"><a href="javascript:void(0);" onclick="toggle('source-thinkland_rpi_car.Car.turn_servo_ultrasonic', this);">Show source &equiv;</a></p>
  <div id="source-thinkland_rpi_car.Car.turn_servo_ultrasonic" class="source">
    <div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">turn_servo_ultrasonic</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">dir</span><span class="o">=</span><span class="s1">&#39;degree&#39;</span><span class="p">,</span> <span class="n">degree</span><span class="o">=</span><span class="mi">90</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Turn the servo for ultrasonic sensor</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    * dir : str</span>
<span class="sd">        - one of [&#39;left&#39;, &#39;center&#39;, &#39;right&#39;]</span>
<span class="sd">        - if dir == &#39;degree&#39;, use degree parameter</span>
<span class="sd">    * degrees : int</span>
<span class="sd">        - [0, 180]</span>
<span class="sd">        - if dir is specified other than &#39;degree&#39;, this is ignored</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># 0 degrees :  duty cycle =  2.5% of 20ms</span>
    <span class="c1"># 90 degrees:  duty cycle =  7.5% of 20ms</span>
    <span class="c1"># 180 degrees: duty cycle = 12.5% of 20ms</span>
    <span class="k">if</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;center&#39;</span><span class="p">:</span>
        <span class="n">degree</span> <span class="o">=</span> <span class="mi">90</span>
    <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;right&#39;</span><span class="p">:</span>
        <span class="n">degree</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">elif</span> <span class="nb">dir</span> <span class="o">==</span> <span class="s1">&#39;left&#39;</span><span class="p">:</span>
        <span class="n">degree</span> <span class="o">=</span> <span class="mi">180</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>  <span class="c1"># do this for multiple times just to make sure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_pwm_servo_ultrasonic</span><span class="o">.</span><span class="n">ChangeDutyCycle</span><span class="p">(</span><span class="mf">2.5</span> <span class="o">+</span> <span class="mi">10</span> <span class="o">*</span> <span class="n">degree</span><span class="o">/</span><span class="mi">180</span><span class="p">)</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>  <span class="c1"># give enough time to settle</span>
</pre></div>

  </div>
</div>

  </div>
  
      </div>
      </div>

  </section>

    </article>
  <div class="clear"> </div>
  <footer id="footer">
    <p>
      Documentation generated by
      <a href="https://github.com/BurntSushi/pdoc">pdoc 0.3.2</a>
    </p>

    <p>pdoc is in the public domain with the
      <a href="http://unlicense.org">UNLICENSE</a></p>

    <p>Design by <a href="http://nadh.in">Kailash Nadh</a></p>
  </footer>
</div>
</body>
</html>
